(this["webpackJsonpnu-react"]=this["webpackJsonpnu-react"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(24),s=n.n(r),o=n(14),i=(n(76),n(6)),l=n(117),u=n(114),j=n(118),b=n(116),d=n(4),p=n.n(d),h=n(10),m=n(16),f=n.n(m),O="https://nuchess-api.herokuapp.com/api/v1",x="jwtcoffeegallery",v=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a,c,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(O,"/auth/login"),t);case 2:n=e.sent;try{console.log(n.data),n.data&&(a=n.data,c=a._id,r=a.role,s=a.name,localStorage.setItem(x,JSON.stringify({id:c,role:r,name:s})))}catch(o){console.log(o)}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(O,"/auth/signup"),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){return"undefined"!=typeof window&&(!!localStorage.getItem(x)&&JSON.parse(localStorage.getItem(x)))},N=function(){localStorage.removeItem(x),window.location.reload(),console.log("Logged out")},y=(n(96),n(1));var k=function(){var e=w(),t=Object(y.jsx)("i",{className:"bi bi-person-fill"});return Object(y.jsx)(l.a,{bg:"transparent",children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(l.a.Brand,{children:Object(y.jsx)(o.b,{to:"/",className:"Logo",children:"nuchess"})}),Object(y.jsx)(l.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(y.jsxs)(l.a.Collapse,{id:"responsive-navbar-nav",children:[Object(y.jsx)(j.a,{className:"me-auto"}),Object(y.jsx)(j.a,{children:e?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(b.a,{align:"end",title:t,id:"basic-nav-dropdown-left",children:[Object(y.jsx)(b.a.Item,{children:Object(y.jsx)(o.b,{to:"/gallery",className:"Dropdown",children:"Gallery"})}),Object(y.jsx)(b.a.Item,{children:Object(y.jsx)(o.b,{to:"/addPost",className:"Dropdown",children:"New Post"})}),Object(y.jsx)(b.a.Divider,{}),Object(y.jsx)(b.a.Item,{children:Object(y.jsx)("button",{onClick:N,className:"Dropdown logoutButton",children:"Sign out"})})]})}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(b.a,{align:"end",title:t,id:"basic-nav-dropdown-left",children:[Object(y.jsx)(b.a.Item,{children:Object(y.jsx)(o.b,{to:"/login",className:"Dropdown",children:"Login"})}),Object(y.jsx)(b.a.Item,{children:Object(y.jsx)(o.b,{to:"/signup",className:"Dropdown",children:"Sign Up"})})]})})})]})]})})};n(102);var C=function(){return Object(y.jsx)("div",{className:"homeboard",children:Object(y.jsx)("header",{className:"masthead",children:Object(y.jsx)("div",{className:"container px-4 px-lg-5 h-100",children:Object(y.jsxs)("div",{className:"row gx-4 gx-lg-5 h-100 align-items-center justify-content-center text-center",children:[Object(y.jsxs)("div",{className:"col-lg-8 align-self-end",children:[Object(y.jsx)("h1",{className:"text-white font-weight-bold",children:"Your Favorite Social Web Service for Chess Game Aggregation"}),Object(y.jsx)("hr",{className:"divider"})]}),Object(y.jsxs)("div",{className:"col-lg-8 align-self-baseline",children:[Object(y.jsx)("p",{className:"text-white mb-5",children:"nuchess is making the world a better place through CRUD-based, distributive application structures to communicate between endpoints; revolutionizing community-based chess game aggregation as you know it."}),Object(y.jsx)("p",{className:"text-white mb-5",children:"Just create an account to start sharing, no strings attached!"})]})]})})})})};var S=function(){return Object(y.jsx)(C,{})},D=n(9),I=n(2),_=n(3);n(45);var T=function(){var e=Object(a.useState)({name:"",email:"",password:""}),t=Object(_.a)(e,2),n=t[0],c=t[1];function r(e){return s.apply(this,arguments)}function s(){return(s=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Object(I.a)(Object(I.a)({},n),{},Object(D.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),g(n),c({name:"",email:"",password:""}),alert("User Created");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsx)("div",{className:"container-form mt-5",children:Object(y.jsxs)("form",{className:"form",children:[Object(y.jsx)("h2",{children:"Sign Up"}),Object(y.jsx)("input",{value:n.name,name:"name",onChange:r,placeholder:"name",type:"text",className:"form-control"}),Object(y.jsx)("input",{value:n.email,onChange:r,name:"email",placeholder:"email",type:"text",className:"form-control"}),Object(y.jsx)("input",{value:n.password,onChange:r,name:"password",placeholder:"password",type:"password",className:"form-control"}),Object(y.jsx)("button",{onClick:function(e){return o.apply(this,arguments)},className:"form-control btn btn-success",children:Object(y.jsx)("i",{class:"bi bi-person-plus-fill"})})]})})};var A=function(){var e=Object(i.g)(),t=Object(a.useState)({email:"",password:""}),n=Object(_.a)(t,2),c=n[0],r=n[1];function s(e){r(Object(I.a)(Object(I.a)({},c),{},Object(D.a)({},e.target.name,e.target.value)))}function o(){return(o=Object(h.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,v(c);case 4:return t.sent,e("/"),t.next=8,window.location.reload();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:r({email:"",password:""});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(y.jsx)("div",{className:"container-form mt-5",children:Object(y.jsxs)("form",{className:"form",children:[Object(y.jsx)("h2",{children:"Login"}),Object(y.jsx)("input",{onChange:s,name:"email",value:c.email,className:"form-control",type:"text",placeholder:"email"}),Object(y.jsx)("input",{onChange:s,name:"password",value:c.password,className:"form-control",type:"password",placeholder:"password"}),Object(y.jsx)("button",{onClick:function(e){return o.apply(this,arguments)},className:"form-control btn btn-success",children:Object(y.jsx)("i",{class:"bi bi-box-arrow-in-right"})})]})})},P=n(115),B=n(119);n(68);var F=function(e){var t=e.obj,n=Object(a.useState)(t.likes),c=Object(_.a)(n,2),r=c[0],s=c[1];return Object(y.jsx)(B.a,{className:"border-light",children:Object(y.jsxs)(B.a.Body,{children:[Object(y.jsx)(o.b,{to:"/post/".concat(t._id),className:"buttonCard btn btn-primary",children:Object(y.jsx)("img",{className:"postCardImage",src:t.url?t.url:"https://images.prismic.io/lichess/f54baa80-94ed-4ba1-b42b-afd818ec4b64_Horseybig.png?auto=compress,format",alt:""})}),Object(y.jsxs)("div",{className:"card-floor",children:[Object(y.jsx)("h6",{children:t.user.name}),Object(y.jsxs)("h6",{children:[Object(y.jsx)("button",{onClick:function(){s((function(){return t.likes=r+1}))},className:"fa-icon",children:Object(y.jsx)("i",{className:"bi bi-heart-fill"})}),t.likes]})]})]})})},E="https://nuchess-api.herokuapp.com/api/v1",L=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(E,"/posts"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(E,"/posts/post/").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},t),console.log("CREATE",n),e.next=4,f.a.post("".concat(E,"/posts/post"),n);case 4:return a=e.sent,alert("Post created successfully"),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("".concat(E,"/posts/post/").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(103);var R=function(){var e=Object(a.useState)([]),t=Object(_.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(_.a)(r,2),o=s[0],i=s[1];function l(){return(l=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),setTimeout(Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:t=e.sent,c(t.data),i(!1);case 5:case"end":return e.stop()}}),e)}))),2e3);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),Object(y.jsx)("div",{className:"container mt-5",children:Object(y.jsxs)("div",{className:"container-gallery",children:[o&&Object(y.jsx)("div",{style:{textAlign:"center",marginTop:20,height:"88.1vh",paddingTop:"300px"},children:Object(y.jsx)(P.a,{style:{height:80,width:80,fontWeight:"bold",color:"white"},animation:"border"})}),null===n&&Object(y.jsx)("h2",{children:"No Posts Results"}),Object(y.jsx)("div",{className:"row postCards",children:n.map((function(e){return Object(y.jsx)("div",{className:"cardBox col-lg-3 col-md-4 col-sm-6 col-xs-12",children:Object(y.jsx)(F,{obj:e})},e._id)}))})]})})};var W=function(){return w()?Object(y.jsx)(i.a,{}):Object(y.jsx)(A,{})};var G=function(){var e=Object(i.g)(),t=w(),n=Object(a.useState)({url:"",likes:0,user:"".concat(t.id)}),c=Object(_.a)(n,2),r=c[0],s=c[1];function o(){return(o=Object(h.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,U(r);case 3:e("/gallery"),window.location.reload();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"container-form mt-5",children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("form",{className:"form",children:[Object(y.jsx)("h2",{children:"Add New Post"}),Object(y.jsx)("input",{name:"url",value:r.url,onChange:function(e){s(Object(I.a)(Object(I.a)({},r),{},Object(D.a)({},e.target.name,e.target.value)))},placeholder:"game url",type:"text",className:"form-control"}),Object(y.jsx)("button",{onClick:function(e){return o.apply(this,arguments)},className:"form-control btn btn-primary",children:"Add New Post"})]}),";"]})})})},H="https://nuchess-api.herokuapp.com/api/v1",z=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(H,"/comments"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(H,"/comments/comment"),t);case 2:return n=e.sent,alert("Comment created successfully"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("".concat(H,"/comments/comment/").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var K=function(e){var t,n=e.obj,c=Object(a.useState)(n.likes),r=Object(_.a)(c,2),s=r[0],o=r[1],i=w();function l(){return(l=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),t.preventDefault(),e.next=4,q(n);case 4:e.sent,window.location.reload();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsx)(B.a,{children:Object(y.jsxs)(B.a.Body,{children:[Object(y.jsx)("h6",{children:n.text}),Object(y.jsxs)("div",{className:"supraflex",children:[Object(y.jsxs)("h6",{children:[n.user.name," "]}),(i.id===(null===(t=n.user)||void 0===t?void 0:t._id)||"ADMIN"===i.role)&&Object(y.jsx)("button",{onClick:function(e){return function(e,t){return l.apply(this,arguments)}(e,n._id)},className:"form-control btn btn-danger",style:{width:"40px"},children:Object(y.jsx)("i",{className:"bi bi-trash-fill"})}),Object(y.jsxs)("div",{className:"rightflex",children:[Object(y.jsx)("button",{onClick:function(){o((function(){return n.likes=s+1}))},className:"fa-icon",children:Object(y.jsx)("i",{className:"bi bi-heart-fill"})}),Object(y.jsx)("h6",{children:n.likes})]})]})]})})};var Q=function(){var e=w(),t=Object(i.h)().id,n=Object(a.useState)({}),c=Object(_.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)({post:"",user:"",likes:0,text:""}),l=Object(_.a)(o,2),u=l[0],j=l[1];function b(){return(b=Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:n=e.sent,s(n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){b.apply(this,arguments)}()}),[t]),Object(y.jsx)("div",{className:"container-comment mt-5",children:Object(y.jsxs)("form",{className:"form",children:[Object(y.jsx)("h2",{children:"Add Comment"}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3",onChange:function(e){j(Object(I.a)(Object(I.a)({},u),{},Object(D.a)({},e.target.name,e.target.value))),console.log("POST",u[""])}}),Object(y.jsx)("button",{onClick:function(t){t.preventDefault();var n={post:r._id,user:e.id,text:u[""],likes:0};Y(n),window.location.reload()},className:"form-control btn btn-primary",children:Object(y.jsx)("i",{className:"bi bi-chat-fill"})})]})]})})};n(104),n(105);var V=function(e){var t,n,c=e.obj,r=Object(a.useState)(c.likes),s=Object(_.a)(r,2),l=s[0],u=s[1],j=w(),b=Object(i.g)();function d(){return(d=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,M(c._id);case 3:e.sent,b("/gallery"),window.location.reload();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsx)(B.a,{className:"border-light",children:Object(y.jsxs)(B.a.Body,{children:[Object(y.jsx)(o.b,{to:"/post/".concat(c._id),className:"buttonCard btn btn-primary",children:Object(y.jsx)("img",{className:"postCardImage",src:c.url?c.url:"https://images.prismic.io/lichess/f54baa80-94ed-4ba1-b42b-afd818ec4b64_Horseybig.png?auto=compress,format",alt:""})}),Object(y.jsxs)("div",{className:"card-floor",children:[Object(y.jsx)("h6",{children:null===(t=c.user)||void 0===t?void 0:t.name}),(j.id===(null===(n=c.user)||void 0===n?void 0:n._id)||"ADMIN"===j.role)&&Object(y.jsx)("button",{onClick:function(e){return d.apply(this,arguments)},className:"form-control btn btn-danger",style:{width:"40px"},children:Object(y.jsx)("i",{className:"bi bi-trash-fill"})}),Object(y.jsxs)("h6",{children:[Object(y.jsx)("button",{onClick:function(){u((function(){return c.likes=l+1}))},className:"fa-icon",children:Object(y.jsx)("i",{className:"bi bi-heart-fill"})}),c.likes]})]})]})})};var X=function(){var e=Object(a.useState)({}),t=Object(_.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(_.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(!1),j=Object(_.a)(u,2),b=j[0],d=j[1],m=Object(i.h)().id;function f(){return(f=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),setTimeout(Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:t=e.sent,l(t.data),d(!1);case 5:case"end":return e.stop()}}),e)}))),2e3);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(m);case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return w(),Object(i.g)(),Object(a.useEffect)((function(){!function(){O.apply(this,arguments)}(),function(){f.apply(this,arguments)}()}),[]),Object(y.jsxs)("div",{className:"container-postview mt-5",children:[Object(y.jsx)(V,{obj:n}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)(Q,{obj:{post:n}}),Object(y.jsx)("h2",{children:"Comments"}),b&&Object(y.jsx)("div",{style:{textAlign:"center",marginTop:20},children:Object(y.jsx)(P.a,{style:{height:80,width:80,fontWeight:"bold",color:"white"},animation:"border"})}),Object(y.jsx)("div",{className:"row postCards",children:o.filter((function(e){var t;return(null===(t=e.post)||void 0===t?void 0:t._id)===(null===n||void 0===n?void 0:n._id)})).map((function(e){return Object(y.jsx)("div",{className:"cardBox col-lg-3 col-md-4 col-sm-6 col-xs-12",children:Object(y.jsx)(K,{obj:e})},e._id)}))})]})]})};var Z=function(){return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"}),Object(y.jsx)(k,{}),Object(y.jsxs)(i.d,{children:[Object(y.jsx)(i.b,{path:"/",element:Object(y.jsx)(S,{})}),Object(y.jsx)(i.b,{path:"/signup",element:Object(y.jsx)(T,{})}),Object(y.jsx)(i.b,{path:"/login",element:Object(y.jsx)(A,{})}),Object(y.jsxs)(i.b,{element:Object(y.jsx)(W,{}),children:[Object(y.jsx)(i.b,{path:"/addPost",element:Object(y.jsx)(G,{})}),Object(y.jsx)(i.b,{path:"/gallery",element:Object(y.jsx)(R,{})}),Object(y.jsx)(i.b,{path:"/post/:id",element:Object(y.jsx)(X,{})})]})]})]})},$=(n(106),n(107),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))});s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(o.a,{children:Object(y.jsx)(Z,{})})}),document.getElementById("root")),$()},45:function(e,t,n){},68:function(e,t,n){},76:function(e,t,n){},96:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.6c75a3fd.chunk.js.map